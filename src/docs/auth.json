{
  "info": {
    "title": "Gtracker API - Autenticação",
    "description": "Documentação das rotas de autenticação do fórum Gtracker",
    "version": "1.0.0",
    "baseUrl": "/api/v1"
  },
  "endpoints": {
    "register": {
      "method": "POST",
      "path": "/auth/register",
      "fullPath": "/api/v1/auth/register",
      "description": "Registrar um novo usuário no sistema",
      "authentication": false,
      "headers": {
        "Content-Type": "application/json"
      },
      "request": {
        "body": {
          "username": {
            "type": "string",
            "required": true,
            "minLength": 3,
            "maxLength": 20,
            "pattern": "^[a-zA-Z0-9_]+$",
            "description": "Nome de usuário único (apenas letras, números e underscore)",
            "example": "john_doe"
          },
          "name": {
            "type": "string",
            "required": true,
            "minLength": 2,
            "maxLength": 100,
            "description": "Nome completo do usuário",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "required": true,
            "format": "email",
            "maxLength": 255,
            "description": "Email único do usuário",
            "example": "john.doe@example.com"
          },
          "password": {
            "type": "string",
            "required": true,
            "minLength": 6,
            "maxLength": 10,
            "description": "Senha do usuário (6-10 caracteres)",
            "example": "senha123"
          },
          "inviteCode": {
            "type": "string",
            "required": false,
            "maxLength": 50,
            "description": "Código de convite opcional",
            "example": "INVITE2024"
          }
        }
      },
      "responses": {
        "201": {
          "description": "Usuário registrado com sucesso",
          "body": {
            "success": true,
            "message": "Usuário registrado com sucesso",
            "data": {
              "user": {
                "id": "uuid",
                "username": "string",
                "name": "string",
                "email": "string",
                "invite_code_used": "string | null",
                "created_at": "datetime",
                "updated_at": "datetime"
              },
              "profile": {
                "id": "uuid",
                "user_id": "uuid",
                "avatar_url": "string",
                "banner_url": "string",
                "bio": "string",
                "signature": "string",
                "total_posts": "number",
                "total_likes": "number",
                "ranking": "number",
                "level": "number",
                "role": "string",
                "is_banned": "boolean",
                "created_at": "datetime",
                "updated_at": "datetime"
              },
              "token": "string"
            }
          },
          "example": {
            "success": true,
            "message": "Usuário registrado com sucesso",
            "data": {
              "user": {
                "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "username": "john_doe",
                "name": "John Doe",
                "email": "john.doe@example.com",
                "invite_code_used": "INVITE2024",
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-15T10:30:00.000Z"
              },
              "profile": {
                "id": "b2c3d4e5-f6a7-8901-bcde-f12345678901",
                "user_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "avatar_url": "https://gtracker.com/assets/default-avatar.png",
                "banner_url": "https://gtracker.com/assets/default-banner.png",
                "bio": "",
                "signature": "",
                "total_posts": 0,
                "total_likes": 0,
                "ranking": 0,
                "level": 0,
                "role": "usuario",
                "is_banned": false,
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-15T10:30:00.000Z"
              },
              "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
          }
        },
        "400": {
          "description": "Erro de validação",
          "body": {
            "success": false,
            "error": {
              "message": "string",
              "code": "VALIDATION_ERROR"
            }
          },
          "examples": [
            {
              "success": false,
              "error": {
                "message": "Username deve ter no mínimo 3 caracteres",
                "code": "VALIDATION_ERROR"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Senha deve ter no máximo 10 caracteres",
                "code": "VALIDATION_ERROR"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Email inválido",
                "code": "VALIDATION_ERROR"
              }
            }
          ]
        },
        "409": {
          "description": "Conflito (username ou email já existe)",
          "body": {
            "success": false,
            "error": {
              "message": "string"
            }
          },
          "examples": [
            {
              "success": false,
              "error": {
                "message": "Username já está em uso"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Email já está em uso"
              }
            }
          ]
        },
        "500": {
          "description": "Erro interno do servidor",
          "body": {
            "success": false,
            "error": {
              "message": "Erro interno do servidor"
            }
          }
        }
      }
    },
    "login": {
      "method": "POST",
      "path": "/auth/login",
      "fullPath": "/api/v1/auth/login",
      "description": "Autenticar usuário e obter token JWT",
      "authentication": false,
      "headers": {
        "Content-Type": "application/json"
      },
      "request": {
        "body": {
          "username": {
            "type": "string",
            "required": true,
            "description": "Nome de usuário",
            "example": "john_doe"
          },
          "password": {
            "type": "string",
            "required": true,
            "description": "Senha do usuário",
            "example": "senha123"
          }
        }
      },
      "responses": {
        "200": {
          "description": "Login realizado com sucesso",
          "body": {
            "success": true,
            "message": "Login realizado com sucesso",
            "data": {
              "user": {
                "id": "uuid",
                "username": "string",
                "name": "string",
                "email": "string",
                "invite_code_used": "string | null",
                "created_at": "datetime",
                "updated_at": "datetime"
              },
              "profile": {
                "id": "uuid",
                "user_id": "uuid",
                "avatar_url": "string",
                "banner_url": "string",
                "bio": "string",
                "signature": "string",
                "total_posts": "number",
                "total_likes": "number",
                "ranking": "number",
                "level": "number",
                "role": "string",
                "is_banned": "boolean",
                "created_at": "datetime",
                "updated_at": "datetime"
              },
              "token": "string"
            }
          },
          "example": {
            "success": true,
            "message": "Login realizado com sucesso",
            "data": {
              "user": {
                "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "username": "john_doe",
                "name": "John Doe",
                "email": "john.doe@example.com",
                "invite_code_used": null,
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-15T10:30:00.000Z"
              },
              "profile": {
                "id": "b2c3d4e5-f6a7-8901-bcde-f12345678901",
                "user_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "avatar_url": "https://gtracker.com/assets/default-avatar.png",
                "banner_url": "https://gtracker.com/assets/default-banner.png",
                "bio": "Desenvolvedor apaixonado por tecnologia",
                "signature": "Keep coding!",
                "total_posts": 42,
                "total_likes": 128,
                "ranking": 1500,
                "level": 5,
                "role": "usuario",
                "is_banned": false,
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-20T14:22:00.000Z"
              },
              "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
          }
        },
        "400": {
          "description": "Erro de validação",
          "body": {
            "success": false,
            "error": {
              "message": "string",
              "code": "VALIDATION_ERROR"
            }
          },
          "examples": [
            {
              "success": false,
              "error": {
                "message": "Username é obrigatório",
                "code": "VALIDATION_ERROR"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Senha é obrigatória",
                "code": "VALIDATION_ERROR"
              }
            }
          ]
        },
        "401": {
          "description": "Credenciais inválidas",
          "body": {
            "success": false,
            "error": {
              "message": "Credenciais inválidas"
            }
          }
        },
        "403": {
          "description": "Usuário banido",
          "body": {
            "success": false,
            "error": {
              "message": "Sua conta está banida"
            }
          }
        },
        "500": {
          "description": "Erro interno do servidor",
          "body": {
            "success": false,
            "error": {
              "message": "Erro interno do servidor"
            }
          }
        }
      }
    },
    "logout": {
      "method": "POST",
      "path": "/auth/logout",
      "fullPath": "/api/v1/auth/logout",
      "description": "Invalidar token JWT atual (logout)",
      "authentication": true,
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer <token>"
      },
      "request": {
        "body": null
      },
      "responses": {
        "200": {
          "description": "Logout realizado com sucesso",
          "body": {
            "success": true,
            "message": "Logout realizado com sucesso",
            "data": null
          },
          "example": {
            "success": true,
            "message": "Logout realizado com sucesso",
            "data": null
          }
        },
        "401": {
          "description": "Token não fornecido ou inválido",
          "body": {
            "success": false,
            "error": {
              "message": "string"
            }
          },
          "examples": [
            {
              "success": false,
              "error": {
                "message": "Token não fornecido"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Token inválido ou expirado"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Token inválido"
              }
            }
          ]
        },
        "500": {
          "description": "Erro interno do servidor",
          "body": {
            "success": false,
            "error": {
              "message": "Erro interno do servidor"
            }
          }
        }
      }
    },
    "me": {
      "method": "GET",
      "path": "/auth/me",
      "fullPath": "/api/v1/auth/me",
      "description": "Obter dados do usuário autenticado",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "request": {
        "body": null
      },
      "responses": {
        "200": {
          "description": "Dados do usuário retornados com sucesso",
          "body": {
            "success": true,
            "data": {
              "user": {
                "id": "uuid",
                "username": "string",
                "name": "string",
                "email": "string",
                "invite_code_used": "string | null",
                "created_at": "datetime",
                "updated_at": "datetime"
              },
              "profile": {
                "id": "uuid",
                "user_id": "uuid",
                "avatar_url": "string",
                "banner_url": "string",
                "bio": "string",
                "signature": "string",
                "total_posts": "number",
                "total_likes": "number",
                "ranking": "number",
                "level": "number",
                "role": "string",
                "is_banned": "boolean",
                "created_at": "datetime",
                "updated_at": "datetime"
              }
            }
          },
          "example": {
            "success": true,
            "data": {
              "user": {
                "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "username": "john_doe",
                "name": "John Doe",
                "email": "john.doe@example.com",
                "invite_code_used": null,
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-15T10:30:00.000Z"
              },
              "profile": {
                "id": "b2c3d4e5-f6a7-8901-bcde-f12345678901",
                "user_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "avatar_url": "https://gtracker.com/assets/default-avatar.png",
                "banner_url": "https://gtracker.com/assets/default-banner.png",
                "bio": "Desenvolvedor apaixonado por tecnologia",
                "signature": "Keep coding!",
                "total_posts": 42,
                "total_likes": 128,
                "ranking": 1500,
                "level": 5,
                "role": "usuario",
                "is_banned": false,
                "created_at": "2024-01-15T10:30:00.000Z",
                "updated_at": "2024-01-20T14:22:00.000Z"
              }
            }
          }
        },
        "401": {
          "description": "Token não fornecido ou inválido",
          "body": {
            "success": false,
            "error": {
              "message": "string"
            }
          },
          "examples": [
            {
              "success": false,
              "error": {
                "message": "Token não fornecido"
              }
            },
            {
              "success": false,
              "error": {
                "message": "Token inválido ou expirado"
              }
            }
          ]
        },
        "404": {
          "description": "Usuário não encontrado",
          "body": {
            "success": true,
            "message": "Usuário não encontrado",
            "data": null
          }
        },
        "500": {
          "description": "Erro interno do servidor",
          "body": {
            "success": false,
            "error": {
              "message": "Erro interno do servidor"
            }
          }
        }
      }
    }
  },
  "models": {
    "User": {
      "description": "Modelo de usuário (sem senha)",
      "fields": {
        "id": {
          "type": "uuid",
          "description": "Identificador único do usuário"
        },
        "username": {
          "type": "string",
          "description": "Nome de usuário único"
        },
        "name": {
          "type": "string",
          "description": "Nome completo do usuário"
        },
        "email": {
          "type": "string",
          "description": "Email do usuário"
        },
        "invite_code_used": {
          "type": "string | null",
          "description": "Código de convite utilizado no registro"
        },
        "created_at": {
          "type": "datetime",
          "description": "Data de criação da conta"
        },
        "updated_at": {
          "type": "datetime",
          "description": "Data da última atualização"
        }
      }
    },
    "Profile": {
      "description": "Modelo de perfil do usuário",
      "fields": {
        "id": {
          "type": "uuid",
          "description": "Identificador único do perfil"
        },
        "user_id": {
          "type": "uuid",
          "description": "Referência ao usuário"
        },
        "avatar_url": {
          "type": "string",
          "description": "URL da imagem de avatar"
        },
        "banner_url": {
          "type": "string",
          "description": "URL da imagem de banner"
        },
        "bio": {
          "type": "string",
          "description": "Biografia do usuário"
        },
        "signature": {
          "type": "string",
          "description": "Assinatura exibida nos posts"
        },
        "total_posts": {
          "type": "integer",
          "description": "Total de posts criados"
        },
        "total_likes": {
          "type": "integer",
          "description": "Total de curtidas recebidas"
        },
        "ranking": {
          "type": "integer",
          "description": "Pontuação de ranking do usuário"
        },
        "level": {
          "type": "integer",
          "description": "Nível do usuário no fórum"
        },
        "role": {
          "type": "enum",
          "values": ["usuario", "moderador", "admin", "vip"],
          "description": "Cargo do usuário"
        },
        "is_banned": {
          "type": "boolean",
          "description": "Indica se o usuário está banido"
        },
        "created_at": {
          "type": "datetime",
          "description": "Data de criação do perfil"
        },
        "updated_at": {
          "type": "datetime",
          "description": "Data da última atualização"
        }
      }
    },
    "AuthResponse": {
      "description": "Resposta de autenticação (login/registro)",
      "fields": {
        "user": {
          "type": "User",
          "description": "Dados do usuário"
        },
        "profile": {
          "type": "Profile",
          "description": "Dados do perfil"
        },
        "token": {
          "type": "string",
          "description": "Token JWT para autenticação"
        }
      }
    }
  },
  "authentication": {
    "type": "Bearer Token",
    "header": "Authorization",
    "format": "Bearer <token>",
    "tokenType": "JWT",
    "expiresIn": "7d",
    "payload": {
      "userId": "UUID do usuário",
      "username": "Nome de usuário",
      "iat": "Timestamp de emissão",
      "exp": "Timestamp de expiração"
    }
  },
  "errorCodes": {
    "VALIDATION_ERROR": "Erro de validação dos dados de entrada",
    "UNAUTHORIZED": "Token não fornecido, inválido ou expirado",
    "FORBIDDEN": "Acesso negado (usuário banido)",
    "CONFLICT": "Recurso já existe (username/email duplicado)",
    "NOT_FOUND": "Recurso não encontrado",
    "INTERNAL_ERROR": "Erro interno do servidor"
  }
}